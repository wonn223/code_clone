<<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- http 헤더에 실리는 정보. 서버가 이 정보로 페이지에 관한 정보를 모은다-->
    <!-- 6번 줄은 IE8,9 호환을 위한 정보가 담김 -->
    <!-- X-UA-Compatible은 html5표준이 아니라 경고가 나올 수 있다. -->
    <meta http-equiv="X-UA-Compatible" content="requireActiveX=true">
    <!-- chrome1 : 크롬이 설치되어 있다면 IE에서도 크롬 렌더링 사용 -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">

    <!-- 페이지를 설명할 수 있는 문자열 지정. 검색페이지에서 제목과 함께 나오는 서브 텍스트가 바로 이 부분이다 -->
    <meta name="description" content="맛집 배달">
    <meta name="viewport" content="width=device-width">

    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <!-- 페이스북 오픈 그래픽 -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="푸드플라이">
    <meta property="og:description" content="기존에 배달되지 않은 맛집 배달">

    <meta name="naver-site-verification" content="기존에 배달되지 않은 맛집 배달">
    <!-- 검색 최적화, 단 최근에는 남용이 많아 되서 구글의 랭킹 알고리즘에 반영되지 않는다고 한다. -->
    <meta name="keyword" content="delivery, food delivery, Foodfly, Chefly, 배달사이트, 배달앱, 푸플, 배달대앻업체, 1인배달음식, 맛집배달, 맛집">  

  <title>푸드 플라이</title>

  <script src="//kcf2.foodfly.co.kr/library/js/jquery-1.7.2.min.js"></script>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="/common/fancybox/jquery.fancybox-1.3.4.css">
  <link rel="stylesheet" href="./foodfly_css.css">
  <script type="text/javascript" src="/common/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
  <!-- language 어트리뷰트는 deprecated됨. html5에선 type도 의무가 아니다.   -->
  <script language="javascript" type="text/javascript" src="/common/js/libs/jquery.alphanumeric.pack.js"></script>
  <script>
      $.getScript("//cdn.optimizely.com/js/3226360527.js");
  </script>
    <script type="text/javascript">
	    var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-29780459-1']);
		_gaq.push(['_setDomainName', 'foodfly.co.kr']);
		_gaq.push(['_trackPageview']);
	
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script><!-- Google Analytics -->
    <script>(function() {
            var _fbq = window._fbq || (window._fbq = []);
            if (!_fbq.loaded) {
            var fbds = document.createElement('script');
            fbds.async = true;
            fbds.src = '//connect.facebook.net/en_US/fbds.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(fbds, s);
            _fbq.loaded = true;
            }
            _fbq.push(['addPixelId', '952616851423536']);
            })();
    window._fbq = window._fbq || [];
    window._fbq.push(['track', 'PixelInitialized', {}]);
    </script>
    <noscript><img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/tr?id=952616851423536&ev=PixelInitialized" /></noscript>
    <!-- msc 160331 페이스북 픽셀 삽입(김용대 이사님 요청)-->
    <!-- 기본 WCA 픽셀 - 전페이지 적용 -->
    <!-- Facebook Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
    document,'script','//connect.facebook.net/en_US/fbevents.js');

    fbq('init', '750092871759015');
    fbq('track', "PageView");
    </script>
    <!-- End Facebook Pixel Code -->

    <!-- Start Facebook Pixel Code DMC F-1 170510 -->
    <script>
    !function(f,b,e,v,n,t,s){if(f.dmcf1q)return;n=f.dmcf1q=function(){n.calldmcf1?n.calldmcf1.apply(n,arguments):n.queue.push(arguments)};if(!f._dmcf1q)f._dmcf1q=n;n.push=n;n.loaded=!0;n.version='0.1';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','//dmcf1.com/rs/lib/pixel/dmcf1_1.1.0.js');
    dmcf1q('init', 'f1', {fbpid : '1601572646536832'}); // 픽셀 ID
    dmcf1q('track', 'PageView', {product_catalog_id : '754500004718334'}); // 카탈로그 ID
    </script>
</head>
<body>
    <header>
        <div class="top_cross_banner">
            <div class="banner_foodfly pull-left">
                <!-- 쉐이딩 효과를 가진 class -->
                <div class="dim">
                    <div class="btn_cur">&nbsp;</div>
                </div>
            </div>
            <div class="banner_martfly pull-left" onclick='window.location.href="http://martfly.co.kr"'>
                <div class="btn_go">Go</div>
            </div>
        </div>
        <div class="top-wrap">
            <div class="container">
                <div class="logo pull-left">
                    <a href="http://www.foodfly.co.kr/"><img src="/common/img/newui/top/logo.png" alt="FoodFly"></a>
                </div>
                <div class="topsearch pull-left"></div>
                <div class="pull-right">
                    <!-- wrapper클래스에서 overflow 프로퍼티 사용 -->
                    <div class="topnav_wrapper">
                        <nav class="topnav">
                            <ul>
                                <li><a href="http://www.foodfly.co.kr/login?redirect=restaurants">로그인</a></li>
                                <li><a href="http://www.foodfly.co.kr/signup">회원가입</a></li>
                                <li><a href="http://www.foodfly.co.kr/support">고객센터</a></li>
                                <li><a href="http://www.foodfly.co.kr/contact">제휴문의</a></li>
                                <li><a href="http://www.foodfly.co.kr/promotion">프로모션</a></li>
                                <li><a href="http://www.foodfly.co.kr/contact/rider">라이더 지원</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="callnumber_wrapper">
                        푸드플라이 고객센터 1688-2263
                    </div>
                </div>
            </div>
        </div>
        <div class="sup-wrap container clearfix">
            <div class="sub-top-wrapper">
                <div id="sub-top-left">
                    <img src="/common/img/newui/top/add_img.png" alt="위치 아이콘">
                    <span class="addres_next" style="vertical-align: middle">서울 서대문구 창천동</span>
                    <a href="javascript:fancybox_address();">
                        <img src='/common/img/newui/top/main_add.png' alt="주소변경하기" style="margin-top:3px">
                    </a>
                </div>
                <style type="text/css">
                    #sub_top_left {
                        float: left;
                    }
                    #sub_top_right {
                        float: right;
                    }
                </style>    
                <script>
                    function fancybox_address() {
                        $.fancybox({
                            'width': '60%',
                            'height': '80%',
                            'transitionIn': 'fade',
                            'transitionOut': 'fade',
                            'href': '#select_dong',
                            'type': 'inline'
                        })
                    }
                </script>
            </div>
            <div class="sub_middle_nav">
                <a href="http://www.foodfly.co.kr/restaurants">
                    <div class="pull-left middle_nav_btn_wrapper" id="middle_nav_near">
                        <div class="middle_nav_btn">
                            <img src="https://kcf1.foodfly.co.kr/pc/icons/main_nav_1.png" alt="글자 이미지">
                        </div>
                    </div>
                </a>
                <a href="http://www.foodfly.co.kr/theme">
                    <div class="pull-left middle_nav_btn_wrapper" id="middle_nav_theme">
                        <div class="middle_nav_btn">
                            <img src="https://kcf1.foodfly.co.kr/pc/icons/main_nav_1.png" alt="글자 이미지">
                        </div>
                    </div>
                </a>
                <a href="http://www.foodfly.co.kr/recommend">
                    <div class="pull-left middle_nav_btn_wrapper" id="middle_nav_favorites">
                        <div class="middle_nav_btn">
                            <img src="https://kcf1.foodfly.co.kr/pc/icons/main_nav_1.png" alt="글자 이미지">
                        </div>
                    </div>
                </a>
                <a href="http://www.foodfly.co.kr/favorites">
                    <div class="pull-left middle_nav_btn_wrapper">
                        <div class="middle_nav_btn">
                            <img src="https://kcf1.foodfly.co.kr/pc/icons/main_nav_1.png" alt="글자 이미지">
                        </div>
                    </div>
                </a>
            </div>    
            <form class="form_sub_bottom_nav" method="GET" action="http://www.foodfly.co.kr/restaurants">
                <div class="sub_bottom_nav">
                    <div class="pull-left bottom_nav_btn_wrapper">
                        <!-- input 박스 hidden -->
                        <input type="checkbox" name="category_all" id="category_all" class="category category_all">
                        <!-- input이 사라져, div안의 공간을 실질적으로 차지.  -->
                        <label for="category_all"></label>
                    </div>
                    <div class="pull-left bottom_nav_btn_wrapper">
                        <!-- input 박스 hidden -->
                        <input type="checkbox" name="category_all" id="category_all" class="category category_all">
                        <!-- input이 사라져, div안의 공간을 실질적으로 차지.  -->
                        <label for="category_all"></label>
                    </div>
                    <div class="pull-left bottom_nav_btn_wrapper">
                        <!-- input 박스 hidden -->
                        <input type="checkbox" name="category_all" id="category_all" class="category category_all">
                        <!-- input이 사라져, div안의 공간을 실질적으로 차지.  -->
                        <label for="category_all"></label>
                    </div>
                </div>
            </form>
        </div>
        <div style="display:none;">
            <div class="select_dong">
                <div class="select_doing_top_wrapper">
                    <div class="sidoname_wrapper">서울 강남구</div>
                    <ul class="clearfix">
                        <li>
                            <a href="#" class="go-dong">신사동</a>
                            <span class="hide area-code">11680107</span>
                            <span class="hide addr">서울 강남구 신사동</span>
                            <span class="hide lat">37.524010</span>
                            <span class="hide lng">11680107</span>
                        </li>
                        <li>
                            <a href="#" class="go-dong">압구정동</a>
                            <span class="hide area-code"></span>
                            <span class="hide addr"></span>
                            <span class="hide lat"></span>
                            <span class="hide lng"></span>
                        </li>
                    </ul>
                    <div class="sidoname_wrapper">서울 강동구</div>
                    <ul class="clearfix">
                        <li>
                            <a href="#" class="go-dong">천호동</a>
                            <span class="hide are-code"></span>
                            <span class="hide addr"></span>
                            <span class="hide lat"></span>
                            <span class="hide lng"></span>
                        </li>
                    </ul>
                    <div class="pull-right select_dong_bottom_wrapper">
                        <a href="http://www.foodfly.co.kr/login">로그인</a>
                        "이나"
                        <a href="http://www.foodfly.co.kr/login">회원가입</a>
                        "을 하시면 더욱 편리하게 이용하실 수 있습니다."
                    </div>
                </div>
            </div>
        </div>
        <script>let nav_mode ="near";</script>
    </header>
    <div class="content" role="main">
        <!-- middle nav -->
        <div class="middlenav">
            <div>
                <img src="#" alt="네비게이션1 ">
            </div>
            <div>
                <img src="#" alt="네비게이션2 ">
            </div>
            <div>
                <img src="#" alt="네비게이션3 ">
            </div>
            <div>
                <img src="#" alt="네비게이션4 ">
            </div>
            <div>
                <img src="#" alt="네비게이션5 ">
            </div>
            <div>
                <img src="#" alt="네비게이션6 ">
            </div>
        </div>
        <div class="middlenav-bar"></div>
        <!-- middlenav 별 레스토랑 목록  -->
        <div id="restaurant" class="clearfix">
            <div class="restaurantList">
                <a href="#">
                    <div class="restaurantbox">
                        <!-- 이미지 -->
                        <!-- 이미지 안에 여러 번의 글자를 넣을 때 span -->
                        <span>url()</span>
                        <span>url()</span>
                        <div class="restaurant-info">
                            <span>레스토랑이름</span>
                            <div>
                                <span>분류</span>
                                <span>피자</span>
                                <span>파스타</span>
                                <span>리조또</span>
                            </div>
                            <div>
                                <span>배달팁</span>
                                <span>최소주문</span>
                                <span>25,000원</span>
                            </div>
                        </div>
                    </div>
                    <style>
                        /* 스타일 내부 선언 */
                    </style>    
                </a>
                <a href="#">
                        <div class="restaurantbox">
                            <style>
                                .resetaurnatbox {
                                }
                            </style>
                        </div>
                </a>
                <a href="#">
                        <div class="restaurantbox">
                            <style>
                                .resetaurnatbox {
                                    
                                }
                            </style>
                        </div>
                </a>
            </div>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="footer_wrapper">
                <nav class="social">
                    <ul>
                        <li>
                            <a href="http://twitter.com/food_fly" target="blank">
                                <img src=="/common/img/newui/footer/twitt.png" alt="twitter">
                            </a>
                        </li>
                    </ul>
                    <ul>
                        <li>
                            <a href="http://facebook.com">
                                <img src="/common/img/newui/footer/face.png" alt="facebook">
                            </a>
                        </li>
                    </ul>
                </nav>
                <nav class="bottom-nav">
                    <li>
                        <a href="http://www.foodfly.co.kr/about_us">회사소개</a>
                    </li>
                </nav>
            </div>
        </div>
        
    
    </footer>

    <!-- 전역 선언 -->
    <script type="text/javascript">var BASE_URL = "http://www.foodfly.co.kr/";</script>
    <script type="text/javascript" src="/common/js/main.js?v=170209"></script>
    <script type="text/javascript" src="/common/js/util.js"></script>
    <script type="text/javascript" src="/common/js/libs/spin.min.js"></script>
    <script type="text/javascript" src="/common/js/libs/jquery.spin.js"></script>
    <script src="/common/js/libs/jquery.carouFredSel-5.6.1-packed.js"></script>
    <script>
        // 스크롤 시 로딩 스핀 만들기
        // http://spin.js.org/
        const spinner = null;
        let isLoading = false;
        let page = 2;
        let total_page = 15;

        
        function onScroll(event) {
            // 로딩이 되었다면
            if(!isLoading) {
                // 현재 화면의 스크롤 위치 + 현재 화면의 높이 > 전체 문서의 높이 - 1000값을 계산 
                let closeToBottom = ($(window).scrollTop() + $(window).height() > $(document).height() - 1000); 
                if (closeToBottom && page <= total_page) {
                    loadData();
                }
            }
        }

        // 스핀 로딩 이미지 띄우기
        function loadData() {
            isLoading = true;
            const top = $('.restaurant-list').height();
            const opts = { top : top + 'px', left: '372px'}
            // opts변수에 담긴 내용을 바탕으로 스핀 로딩 구현
            $('.restaurant-list').spin(opts);

            // 레스토랑 페이지 리스트 받아오기
            $.ajax({
                type:"POST",
                url: 'http://www.foodfly.co.kr/ajax/restaurant/get_list',
                data: { page },
                success : onloadData
            })
        }

        function onloadData(data) {
            isLoading = false;

            $('.restaurant-list').spin(false);

            if (data.status != 'OK') {
                return;
            }


            let html = '';
            let i = 0;
            let addr = '';
            let seq = 0;
            
            // ajax 통신 결과를 r에 담는다.
            for (i in data.result.result) {
               let r = data.result.result[i];
            
                // if(r.CM_REDIRECT_WEB.length > 0) {
                //     html += '<a href="'+r.CM_REDIRECT_WEB+'">';
                // } else {
                //     html += '<a href="'+ BASE_URL + 'restaurants/show/' + r.CM_IDX + '">';
                // }
                
                // 검색 결과 카드 콘텐츠 만들기..왜 4로 나누는지?
                if((seq++) % 4) {
				html += '<div class="restaurant_box restaurant_box_margin" id="restaurant_box_'+r.CM_IDX+'" idx="'+r.CM_IDX+'" redirect="'+r.CM_REDIRECT_WEB+'">';
			    }  else {
				html += '<div class="restaurant_box restaurant_box_nomargin" id="restaurant_box_'+r.CM_IDX+'" idx="'+r.CM_IDX+'" redirect="'+r.CM_REDIRECT_WEB+'">';
            }
                // 검색결과 페이지 첫 번째 이미지
                html += ' <span class="resetuarnt_box_bg hide">url(https://kcf1.foodfly.co.kr/restaurants/'+r.CM_IDX+'/'+r.CM_NEW_MAIN_IMG+')</span>';

                // 호버링 시 나올 이미지
                html += ' <span class="restaurant_box_bg_hover hide">url(https://kcf1.foodfly.co.kr/restaurants/'+r.CM_IDX+'/'+r.CM_NEW_MAIN_HOVER_IMG+')</span>';
                html += ' <span class="tag_box">';


                if(r.DELIVERY_THUMB_YN == 1) {
                    if(r.CM_DELIVERY_THUMB_TYPE == 1) {
                        html += '<div class="tag01"></div>';
                    } else if (r.CM_DELIVERY_THUMB_TYPE  == 2) {
                        html += '<div class="tag02"></div>';
                    } else if (r.CM_DELIVERY_THUMB_TYPE == 3) {
                        html += '<div class="tag03"></div>';
                    } else if (r.CM_DELIVERY_THUMB_TYPE == 4) {
                        html += ' <div class="tag07"></div>';
                    }
                }

                if(r.DISCOUNT_THUMB_YN == 1) {
                    html += ' <div class="tag04" id="   " '+ r.CM_DISCOUNT_THUMB_TYPE+'_'+r.CM_DISCOUNT_THUMB_TEXT+'"></div>;';  '
                }

                



                // IE 호환성 대응
                if( ie != 8) {
                    html += '<div class="restaurant_info">';
                } else {
                    html += '<div class="restaurant_info low_ie">';
                }

                // r 프로퍼티 확인하기
                

                $('.restaurant-list').append = html;

            }


            $(document).ready(function(){
                $('#main_carousel').carouFredSel({
                    circular: true,
                    infinite: true,
                    auto    : true,
                    items   : {
                        visible : 1
                    },
                    prev    : {
                        button  : "#main_carousel_prev",
                        key     : "left"
                    },
                    next    : {
                        button  : "#main_carousel_next",
                        key     : "right"
                    },
                    pagination  : "#main_carousel_page"
                })


                $('#highlight_caruosel').carouFredSel({
                    circular: true,
                    infinite: true,
                    auto    : false,
                    items   : {
                        visible : 5,
                        width: 198,
                        hegith: 230
                    },
                    prev    : {
                        button  : '#highlight_carousel_prev',
                        key     : 'left'
                    }
                });
            })

            $('window').scroll(onScroll);
            
            // 화면 중간 부분 메뉴 액티브 제거
            $('middlenav').removeClass('active');

            // 이벤트 버블링 고려하면 일일이 지정 안해도 됨
            $('.btn_default').removeClass('active');
		    $('.btn_search_distance').removeClass('active');
		    $('.btn_search_fee').removeClass('active');
		    $('.btn_search_min_amt').removeClass('active');
		    $('.btn_search_rating').removeClass('active');
		    $('.btn_search_random').removeClass('active');

		    $('.btn_search_fee').addClass('active');

    </script>
</body>
</html>
